version: '3.8'
services:
  calcubot:
    container_name: calcubot_test
    # restart: always
    read_only: true
    tmpfs:
      - /tmp
    build: server
    # Limit cpu
    # cpus: 1
    logging:
      options:
        max-size: "1m"
        max-file: "3"
    # ports:
    #   - "8000:8000"
    # expose:
    #   - "8081"
    network_mode: "host"
    volumes:
      # - /etc/letsencrypt/live/YOUR-DOMAIN.COM/fullchain.pem:/cert/webhook_cert.pem
      # - /etc/letsencrypt/live/YOUR-DOMAIN.COM/privkey.pem:/cert/webhook_pkey.pem
      - ./config.json:/server/config.json
      # - ./bot_config.json:/server/bot_config.json
      # - ./id_garden:/server/id_garden

  # calcubot_test:
  #   container_name: calcubot_test
  #   restart: always
  #   read_only: true
  #   tmpfs:
  #     - /tmp
  #   build: server
  #   # Limit cpu
  #   cpus: 1
  #   logging:
  #     options:
  #       max-size: "10m"
  #       max-file: "3"
  #   ports:
  #     - "8705:8000"